{
  "version": 3,
  "sources": ["../../priority-queue-typescript/src/priority-queue/PriorityQueue.js"],
  "sourcesContent": ["\"use strict\";\r\nexports.__esModule = true;\r\nvar PriorityQueue = /** @class */ (function () {\r\n    function PriorityQueue(initialCapacity, comparator) {\r\n        this._size = 0;\r\n        var cap = initialCapacity !== null && initialCapacity !== void 0 ? initialCapacity : 11;\r\n        var com = comparator !== null && comparator !== void 0 ? comparator : null;\r\n        if (cap < 1) {\r\n            throw new Error('initial capacity must be greater than or equal to 1');\r\n        }\r\n        this._queue = new Array(cap);\r\n        this._comparator = com;\r\n    }\r\n    PriorityQueue.prototype.grow = function () {\r\n        var oldCapacity = this._size;\r\n        // Double size if small; else grow by 50%\r\n        var newCapacity = oldCapacity + (oldCapacity < 64 ? oldCapacity + 2 : oldCapacity >> 1);\r\n        if (!Number.isSafeInteger(newCapacity)) {\r\n            throw new Error('capacity out of range');\r\n        }\r\n        this._queue.length = newCapacity;\r\n    };\r\n    PriorityQueue.prototype.siftup = function (k, item) {\r\n        if (this._comparator !== null) {\r\n            this.siftupUsingComparator(k, item);\r\n        }\r\n        else {\r\n            this.siftupComparable(k, item);\r\n        }\r\n    };\r\n    /**\r\n     * siftup of heap\r\n     */\r\n    PriorityQueue.prototype.siftupUsingComparator = function (k, item) {\r\n        while (k > 0) {\r\n            // find the parent\r\n            var parent_1 = (k - 1) >>> 1;\r\n            var e = this._queue[parent_1];\r\n            // compare item with it parent, if item's priority less, break siftup and insert\r\n            if (this._comparator(item, e) >= 0) {\r\n                break;\r\n            }\r\n            // if item's priority more, make it's parent sink and proceed siftup\r\n            this._queue[k] = e;\r\n            k = parent_1;\r\n        }\r\n        // if k === 0, then we directly insert it\r\n        this._queue[k] = item;\r\n    };\r\n    PriorityQueue.prototype.siftupComparable = function (k, item) {\r\n        while (k > 0) {\r\n            var parent_2 = (k - 1) >>> 1;\r\n            var e = this._queue[parent_2];\r\n            if (item.toString().localeCompare(e.toString()) >= 0) {\r\n                break;\r\n            }\r\n            this._queue[k] = e;\r\n            k = parent_2;\r\n        }\r\n        this._queue[k] = item;\r\n    };\r\n    PriorityQueue.prototype.sink = function (k, item) {\r\n        if (this._comparator !== null) {\r\n            this.sinkUsingComparator(k, item);\r\n        }\r\n        else {\r\n            this.sinkComparable(k, item);\r\n        }\r\n    };\r\n    PriorityQueue.prototype.sinkUsingComparator = function (k, item) {\r\n        var half = this._size >>> 1;\r\n        while (k < half) {\r\n            var child = (k << 1) + 1;\r\n            var object = this._queue[child];\r\n            var right = child + 1;\r\n            // compare left right child, assgn child the bigger one\r\n            if (right < this._size && this._comparator(object, this._queue[right]) > 0) {\r\n                object = this._queue[(child = right)];\r\n            }\r\n            //compare item and child if bigger is item, break\r\n            if (this._comparator(item, object) <= 0) {\r\n                break;\r\n            }\r\n            this._queue[k] = object;\r\n            k = child;\r\n        }\r\n        this._queue[k] = item;\r\n    };\r\n    PriorityQueue.prototype.sinkComparable = function (k, item) {\r\n        var half = this._size >>> 1;\r\n        while (k < half) {\r\n            var child = (k << 1) + 1;\r\n            var object = this._queue[child];\r\n            var right = child + 1;\r\n            if (right < this._size &&\r\n                object.toString().localeCompare(this._queue[right].toString())) {\r\n                object = this._queue[(child = right)];\r\n            }\r\n            if (item.toString().localeCompare(object.toString()) <= 0) {\r\n                break;\r\n            }\r\n            this._queue[k] = object;\r\n            k = child;\r\n        }\r\n        this._queue[k] = item;\r\n    };\r\n    PriorityQueue.prototype.indexOf = function (item) {\r\n        for (var i = 0; i < this._queue.length; i++) {\r\n            if (this._queue[i] === item) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    PriorityQueue.prototype.add = function (item) {\r\n        var i = this._size;\r\n        if (i >= this._queue.length) {\r\n            this.grow();\r\n        }\r\n        this._size = i + 1;\r\n        if (i === 0) {\r\n            this._queue[0] = item;\r\n        }\r\n        else {\r\n            this.siftup(i, item);\r\n        }\r\n        return true;\r\n    };\r\n    PriorityQueue.prototype.poll = function () {\r\n        if (this._size === 0) {\r\n            return null;\r\n        }\r\n        var s = --this._size;\r\n        var result = this._queue[0];\r\n        var x = this._queue[s];\r\n        this._queue.slice(s, 1);\r\n        if (s !== 0) {\r\n            this.sink(0, x);\r\n        }\r\n        return result;\r\n    };\r\n    PriorityQueue.prototype.peek = function () {\r\n        return this._size === 0 ? null : this._queue[0];\r\n    };\r\n    PriorityQueue.prototype.contains = function (item) {\r\n        return this.indexOf(item) !== -1;\r\n    };\r\n    PriorityQueue.prototype.clear = function () {\r\n        for (var _i = 0, _a = this._queue; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            // @ts-ignore:\r\n            item = null;\r\n        }\r\n        this._size = 0;\r\n    };\r\n    PriorityQueue.prototype.size = function () {\r\n        return this._size;\r\n    };\r\n    PriorityQueue.prototype.empty = function () {\r\n        return this._size === 0;\r\n    };\r\n    PriorityQueue.prototype.toArray = function () {\r\n        return this._queue.filter(function (item) { return item; });\r\n    };\r\n    PriorityQueue.prototype.toString = function () {\r\n        return this.toArray().toString();\r\n    };\r\n    PriorityQueue.prototype[Symbol.iterator] = function () {\r\n        var _this = this;\r\n        var i = 0;\r\n        return {\r\n            next: function () {\r\n                return {\r\n                    done: i == _this._size,\r\n                    value: _this._queue[i++]\r\n                };\r\n            }\r\n        };\r\n    };\r\n    return PriorityQueue;\r\n}());\r\nexports[\"default\"] = PriorityQueue;\r\n"],
  "mappings": "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",
  "names": ["PriorityQueue"]
}
